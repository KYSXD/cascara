webpackJsonp([1],{"2irv":function(t,e){},"89dG":function(t,e){},"8BBh":function(t,e){},"9jMz":function(t,e){},EIIV:function(t,e){},EPq9:function(t,e,n){"use strict";var s=n("fZjL"),a=n.n(s);e.a=function(t){return a()(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}},FkIt:function(t,e){},MlP6:function(t,e){t.exports="data:image/png;base64,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"},N6ST:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),a=n("PJh5"),i=n.n(a),r=(n("rplX"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]});var o=n("VU/8")({name:"App"},r,!1,function(t){n("EIIV")},null,null).exports,l=n("/ocq"),c=n("TIfe"),d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"h-100"},[e("app-header"),this._v(" "),e("router-view")],1)},staticRenderFns:[]},u=n("VU/8")(null,d,!1,null,null,null).exports,v=n("VsUZ"),m={props:["model"],data:function(){return{loading:!0,trackings:[],errors:[]}},mounted:function(){this.loadList()},methods:{loadList:function(){var t=this;this.loading=!0,this.errors=[],Object(v.a)("/activity").then(function(e){t.loading=!1,t.trackings=e.data}).catch(function(e){t.loading=!1,t.errors=e})}},computed:{selectedId:function(){var t=this.$route.params.id;return t||null},containerClass:function(){return{container:null===this.selectedId,"container-fluid":null!==this.selectedId}}}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"full-columns",class:t.containerClass},[n("div",{staticClass:"row"},[n("div",{staticClass:"col",class:{"d-none d-md-block":t.selectedId}},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("div",{staticStyle:{float:"right"}},[n("a",{attrs:{href:"javascript:void(0);"},on:{click:t.loadList}},[n("icon",{attrs:{icon:["fas","sync-alt"]}})],1)]),t._v("\n          "+t._s(t.$t("trackings.trackings"))+"\n        ")]),t._v(" "),t.errors.length?n("div",{staticClass:"container-error"},t._l(t.errors,function(e,s){return n("div",{key:s,staticClass:"alert custom-alert-danger"},[t._v("\n            "+t._s(t.$t("errors."+e.where))+"\n          ")])})):t._e(),t._v(" "),t.loading?n("hero",{attrs:{icon:"spinner",title:"commons.loading",spin:""}}):0===t.trackings.length?n("hero",{attrs:{icon:"inbox",title:"info.aboutTrackings",desc:"info.aboutTrackingsMore"}}):n("ul",{staticClass:"activity-list"},t._l(t.trackings,function(e){return n("li",{key:e.id,class:{active:t.selectedId===e.id}},[n("router-link",{attrs:{to:{name:"tracking",params:{id:e.id}}}},[n("div",{staticClass:"activity-name"},[t._v("\n                "+t._s(e.name)+"\n              ")]),t._v(" "),n("div",{staticClass:"activity-caret"},[n("icon",{attrs:{icon:["fas","caret-right"]}})],1)])],1)}))],1)]),t._v(" "),t.selectedId?n("div",{staticClass:"col-12 col-md-8 no-overflow-x"},[n("tracking",{attrs:{id:t.selectedId}})],1):t._e()])])},staticRenderFns:[]};var f=n("VU/8")(m,p,!1,function(t){n("FkIt")},"data-v-0c2b1106",null).exports,h={props:["model"],data:function(){return{processes:[],loading:!0}},mounted:function(){this.loadList()},methods:{loadList:function(){var t=this;this.loading=!0,Object(v.a)("/process").then(function(e){t.loading=!1,t.processes=e.data}).catch(function(e){t.loading=!1,t.errors=e})}},computed:{selectedId:function(){var t=this.$route.params.id;return t||null},selected:function(){var t=this.$route.params.id;return t?this.processes.filter(function(e){return e.id===t}).reduce(function(t,e){return t||e},null):null},containerClass:function(){return{container:null===this.selectedId,"container-fluid":null!==this.selectedId}}}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"full-columns",class:t.containerClass},[n("div",{staticClass:"row"},[n("div",{staticClass:"col",class:{"d-none d-md-block":t.selectedId}},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("div",{staticStyle:{float:"right"}},[n("a",{attrs:{href:"javascript:void(0);"},on:{click:t.loadList}},[n("icon",{attrs:{icon:["fas","sync-alt"]}})],1)]),t._v("\n          "+t._s(t.$t("processes.processes"))+"\n        ")]),t._v(" "),t.loading?n("hero",{attrs:{icon:"spinner",title:"commons.loading",spin:""}}):0===t.processes.length?n("hero",{attrs:{icon:"inbox"}}):n("ul",{staticClass:"activity-list"},t._l(t.processes,function(e){return n("li",{key:e.id,class:{active:t.selectedId===e.id}},[n("router-link",{attrs:{to:{name:"process",params:{id:e.id}}}},[n("div",{staticClass:"activity-name"},[t._v("\n                "+t._s(e.name)+"\n              ")]),t._v(" "),n("div",{staticClass:"activity-caret"},[n("icon",{attrs:{icon:["fas","caret-right"]}})],1)])],1)}))],1)]),t._v(" "),t.selected?n("div",{staticClass:"col-12 col-md-8"},[n("activity",{attrs:{model:t.selected}})],1):t._e()])])},staticRenderFns:[]};var _=n("VU/8")(h,g,!1,function(t){n("89dG")},"data-v-4bf03f7a",null).exports,b={data:function(){return{tasks:[],timeline:[],loading:!0,errors:[]}},mounted:function(){this.loadList()},methods:{loadList:function(){var t=this;this.loading=!0,this.errors=[],Object(v.a)("/task").then(function(e){t.loading=!1,t.tasks=e.data}).catch(function(e){t.loading=!1,t.errors=e})}},computed:{selectedId:function(){var t=this.$route.params.id;return t||null},containerClass:function(){return{container:null===this.selectedId,"container-fluid":null!==this.selectedId}}}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"full-columns",class:t.containerClass},[n("div",{staticClass:"row"},[n("div",{staticClass:"col",class:{"d-none d-md-block":t.selectedId}},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("div",{staticStyle:{float:"right"}},[n("a",{attrs:{href:"javascript:void(0);"},on:{click:t.loadList}},[n("icon",{attrs:{icon:["fas","sync-alt"]}})],1)]),t._v("\n          "+t._s(t.$t("tasks.my_tasks"))+"\n        ")]),t._v(" "),t.errors.length?n("div",{staticClass:"container-error"},t._l(t.errors,function(e,s){return n("div",{key:s,staticClass:"alert custom-alert-danger"},[t._v("\n            "+t._s(t.$t("errors."+e.where))+"\n          ")])})):t._e(),t._v(" "),t.loading?n("hero",{attrs:{icon:"spinner",title:"commons.loading",spin:""}}):0===t.tasks.length?n("hero",{attrs:{icon:"inbox",title:"info.aboutTasks",desc:"info.aboutTasksMore"}}):n("ul",{staticClass:"activity-list"},t._l(t.tasks,function(e){return n("li",{key:e.execution.id,class:{active:t.selectedId===e.execution.id}},[n("router-link",{attrs:{to:{name:"task",params:{id:e.id}}}},[n("div",{staticClass:"activity-name"},[t._v("\n                "+t._s(e.execution.name)+" â€” "+t._s(e.name)+"\n              ")]),t._v(" "),n("div",{staticClass:"activity-caret"},[n("icon",{attrs:{icon:["fas","caret-right"]}})],1)])],1)}))],1)]),t._v(" "),t.selectedId?n("div",{staticClass:"col-12 col-md-8"},[n("task",{attrs:{taskId:t.selectedId}})],1):t._e()])])},staticRenderFns:[]};var C=n("VU/8")(b,k,!1,function(t){n("8BBh")},"data-v-3e2473b8",null).exports,y={data:function(){return{username:"",password:"",provider:"ldap",providers:[{value:"ldap",label:"LDAP"}],hasError:!1,signingIn:!1,showAdvancedOptions:!1}},methods:{toggleAdvancedOptions:function(t){t.preventDefault(),this.showAdvancedOptions=!this.showAdvancedOptions},signIn:function(t){var e=this;t.preventDefault(),this.hasError=!1,this.signingIn=!0;var n=this.username,s=this.password,a=this.provider;Object(c.c)(n,s,a,function(t){e.signingIn=!1,t&&(e.hasError=!0);var n=e.$route,s=e.$router,a="/";void 0!==n.query.redirect&&(a=n.query.redirect),s.push(a)})}}},j={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-box pt-5"},[n("h1",[t._v(t._s(t.$t("signin.title")))]),t._v(" "),n("div",{staticClass:"container container-micro"},[n("div",{staticClass:"card mt-5"},[n("div",{staticClass:"card-body"},[n("p",[t._v(t._s(t.$t("signin.description")))]),t._v(" "),n("form",{attrs:{method:"post",action:"/"},on:{submit:function(e){t.signIn(e)}}},[t.hasError?n("div",{staticClass:"text-danger"},[t._v("\n            "+t._s(t.$t("signin.error_signin"))+"\n          ")]):t._e(),t._v(" "),n("div",{staticClass:"form-group mt-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",class:{"is-invalid":t.hasError},attrs:{type:"text",placeholder:t.$t("signin.username_placeholder")},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:{"is-invalid":t.hasError},attrs:{type:"password",placeholder:t.$t("signin.password_placeholder")},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),n("small",[n("a",{attrs:{href:"#"},on:{click:t.toggleAdvancedOptions}},[t._v(t._s(t.$t("signin.advanced_options")))])]),t._v(" "),t.showAdvancedOptions?n("div",{staticClass:"form-group"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.provider,expression:"provider"}],staticClass:"form-control",class:{"is-invalid":t.hasError},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.provider=e.target.multiple?n:n[0]}}},t._l(t.providers,function(e){return n("option",{key:e.value,domProps:{value:e.value}},[t._v("\n                "+t._s(e.label)+"\n              ")])}))]):t._e(),t._v(" "),n("button",{staticClass:"btn btn-primary btn-block mt-3",attrs:{disabled:t.signingIn}},[t._v("\n            "+t._s(t.$t("signin.button"))+"\n          ")])])])])])])},staticRenderFns:[]};var w=n("VU/8")(y,j,!1,function(t){n("cHaq")},"data-v-5b2b5408",null).exports,x=n("XILU"),F=n.n(x),A={props:["action"],filters:{setMoment:function(t,e){var n=t,s=new Date(t);return"Invalid date"!==(s="From now"===e?i()(s).fromNow():"Complete"===e?i()(s).format("MMMM Do YYYY, h:mm:ss a"):i()(s).format("DD/MM/YYYY HH:mm"))?s:n}}},E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"timeline-action"},[n("span",{staticClass:"timeline-dot"}),t._v(" "),n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[t._v("\n          "+t._s(t.action.node.name)+"\n          â€”\n          "),n("small",[t._v(t._s(t._f("setMoment")(t.action.finished_at,"From now")))])])])]),t._v(" "),n("div",{staticClass:"card-body"},t._l(t.action.actors.items,function(e,s){return n("div",{key:s},[e?n("div",[n("p",[n("b",[t._v(t._s(e.user.fullname))]),t._v("\n            llenÃ³ la siguiente informaciÃ³n\n          ")]),t._v(" "),n("table",{staticClass:"table table-sm table-bordered"},t._l(e.forms,function(e,s){return n("tbody",{key:s},[n("tr",{staticClass:"form-group"},[n("td",{attrs:{title:"#"+e.ref,rowspan:e.inputs.item_order.length+1}})]),t._v(" "),t._l(e.inputs.item_order.map(function(t){return e.inputs.items[t]}),function(e){return n("tr",{key:e.name},[n("td",{attrs:{scope:"row"}},[t._v(t._s(e.label))]),t._v(" "),n("td",[n("value-render",{attrs:{input:e}})],1)])})],2)}))]):t._e()])}))])])},staticRenderFns:[]};var I=n("VU/8")(A,E,!1,function(t){n("ROP2")},"data-v-5133cb3c",null).exports,q=n("gRE1"),P=n.n(q),V={props:["validation"],computed:{state:function(){var t=!0;return P()(this.validation.actors.items).forEach(function(e){for(var n=0;n<e.forms.length;n+=1){var s=e.forms[n].inputs.items;t=t&&"accept"===s.response.value}}),t}}},O={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"timeline-action"},[n("span",{staticClass:"timeline-dot",class:{"dot-green":t.state,"dot-red":!t.state}}),t._v(" "),n("div",{staticClass:"alert",class:{"custom-alert-success":t.state,"custom-alert-danger":!t.state}},[t._l(t.validation.actors.items,function(e){return n("div",{key:e.user.id},[n("span",{staticStyle:{"font-weight":"bold"}},[t._v("\n        "+t._s(e.user.fullname)+"Â \n      ")]),t._v(" "),n("span",[t._v("\n        "+t._s(e.forms[0].inputs.items.comment.value)+"\n      ")])])}),t._v(" "),n("div",[n("span",{staticClass:"badge badge-primary",class:{"badge-success":t.state,"badge-danger":!t.state}},[t._v("\n        "+t._s(t.state?"Aprobado":"Rechazado")+"\n      ")])])],2)])},staticRenderFns:[]},R=n("VU/8")(V,O,!1,null,null,null).exports,U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hidden?t._e():n("div",{staticClass:"timeline-action"},[n("span",{staticClass:"timeline-dot dot-orange"}),t._v(" "),n("div",{staticClass:"alert custom-alert-warning"},[n("div",[t._v(t._s(t.node.node.name))]),t._v(" "),n("div",[n("small",[t._v("Asignado a ")]),t._v(" "),t._l(t.node.notified_users,function(e){return n("small",{key:e.id,staticStyle:{"font-weight":"bold"}},[t._v("\n        "+t._s(e.fullname)+"Â \n      ")])})],2)])])},staticRenderFns:[]},z=n("VU/8")({props:["node"],data:function(){return{hidden:"task"===this.$router.history.current.name}}},U,!1,null,null,null).exports;s.a.component("timeline-action",I),s.a.component("timeline-validation",R),s.a.component("timeline-pending",z);var $=function(t){return t.reduce(function(t,e){var n=t,s=!1;if("string"==typeof e.where){var a=e.where.match(/request.body.form_array.(\d+).(\w+)/);if(a){var i=a[1],r=a[2];void 0===n[i]&&(n[i]={}),void 0===n[i][r]&&(n[i][r]=[]),n[i][r].push(e),s=!0}}return s||(void 0===n.global&&(n.global=[]),n.global.push(e)),n},{global:[]})},S={props:["model"],data:function(){return{sending:!1,errors:{global:[]}}},watch:{model:function(){this.sending=!1,this.errors={global:[]}}},methods:{submit:function(t){var e=this,n={process_name:this.model.id,form_array:t};this.sending=!0,Object(v.b)("/execution",n,"application/json").then(function(t){e.sending=!1,e.$router.push("/tracking/"+t.data.id)}).catch(function(t){e.sending=!1,e.errors=$(t)})}}},T={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("div",{staticStyle:{"font-size":"16px",float:"right"}},[n("router-link",{attrs:{to:{name:"processes"}}},[n("icon",{attrs:{icon:["fas","times"]}})],1)],1),t._v(" "),n("span",[t._v(t._s(t.model.name))])]),t._v(" "),n("div",{staticClass:"card-body"},[n("div",{staticClass:"card-desc"},[t._v("\n      "+t._s(t.model.description)+"\n    ")]),t._v(" "),t._l(t.errors.global,function(e,s){return n("div",{key:s,staticClass:"alert custom-alert-danger"},[t._v("\n      "+t._s(e.code||e.detail)+"\n    ")])}),t._v(" "),n("div"),t._v(" "),n("form-render",{attrs:{forms:t.model.form_array,errors:t.errors,sending:t.sending},on:{submit:t.submit}})],2)])},staticRenderFns:[]},N=n("VU/8")(S,T,!1,null,null,null).exports,D={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){t.submit(e)}}},[n("label",{attrs:{for:""}},[t._v("AprobaciÃ³n")]),t._v(" "),n("table",{staticClass:"table table-sm table-bordered"},[n("thead",[n("tr",[n("th",{staticStyle:{width:"1px"}},[n("input",{attrs:{type:"checkbox",name:"",checked:""},on:{click:t.checkField}})]),t._v(" "),n("th",[t._v("Campo")]),t._v(" "),n("th",[t._v("Valor")])])]),t._v(" "),n("tbody",t._l(t.fields,function(e){return n("tr",{key:e.ref,on:{click:function(n){t.toogle(e.ref)}}},[n("td",[n("input",{attrs:{type:"checkbox"},domProps:{checked:t.validity[e.ref]}})]),t._v(" "),n("td",[t._v(t._s(e.label))]),t._v(" "),n("td",[n("value-render",{attrs:{input:e}})],1)])}))]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:""}},[t._v("\n      Comentario\n      "),t.response?t._e():n("small",{staticClass:"text-info"},[t._v("\n        "+t._s(t.$t("commons.required"))+"\n      ")])]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"form-control",domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})]),t._v(" "),n("div",[n("button",{staticClass:"btn",class:{"btn-success":t.response,"btn-danger":!t.response},attrs:{disabled:t.sending||!t.response&&!t.comment}},[t.sending?n("span",[t._v(t._s(t.$t("commons.sending")))]):t.response?n("span",[t._v(t._s(t.$t("commons.approve")))]):n("span",[t._v(t._s(t.$t("commons.reject")))])])])])},staticRenderFns:[]},M=n("VU/8")({props:["fields","sending","errors"],data:function(){return{validity:{},comment:""}},mounted:function(){this.validity=this.fields.reduce(function(t,e){var n=t;return n[e.ref]=!0,n},{})},computed:{response:function(){var t=this,e=this.fields.map(function(e){return t.validity[e.ref]}).reduce(function(t,e){return t&&e},!0);return e}},methods:{checkField:function(t){var e=this;this.fields.forEach(function(n){e.validity[n.ref]=t.target.checked})},toogle:function(t){this.validity[t]=!this.validity[t]},submit:function(t){var e=this;t.preventDefault();var n={response:this.response?"accept":"reject",comment:this.comment};this.response||(n.inputs=this.fields.filter(function(t){return!e.validity[t.ref]}).map(function(t){return{ref:t.ref}})),this.$emit("submit",n)}}},D,!1,null,null,null).exports,B={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("date-input",{attrs:{"bootstrap-styling":!0},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),n("div",{staticClass:"col"},[n("time-input",{attrs:{value:t.date},on:{change:function(e){return t.date=e}}})],1)])},staticRenderFns:[]},G=n("VU/8")({props:["value"],computed:{date:{get:function(){return this.value},set:function(t){this.$emit("change",t)}}}},B,!1,null,null,null).exports,L={props:["file"],data:function(){return{name:"",extension:"",size:"",uploading:!1,error:!1}},mounted:function(){var t=this.file,e=t.name.split(".");e.length>1&&(this.extension=e.splice(-1)[0]),this.name=e.join("."),this.size=t.size},methods:{cancel:function(t){t.preventDefault(),this.$emit("cancel")},submit:function(t){t.preventDefault(),this.uploading=!0,this.error=!1;var e=this.file,n=new XMLHttpRequest;n.open("POST","http://localhost:6000/api/documents",!0),n.upload.onprogress=this.onUploadProgress.bind(this),n.onload=this.onUploadComplete.bind(this);var s=new FormData;s.append("document",e),s.append("name",this.name),n.send(s)},onUploadProgress:function(t){t.lengthComputable&&(this.loaded=t.loaded,this.total=t.total,this.uploading=this.loaded/this.total*100)},onUploadComplete:function(t){var e=t.target,n=JSON.parse(e.response);this.uploading=!1,n&&n.data&&n.data.id?this.$emit("uploaded",n.data):this.error="uploading_document"}},filters:{bytes:function(t){var e=Number(t);if(isNaN(e))throw this.error="invalid_file",new TypeError("Expected a number");var n=e<0,s=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];n&&(e=-e);var a="";if(n&&(a="-"),e<1)return""+a+e+" B";var i=Math.min(Math.floor(Math.log(e)/Math.log(1024)),s.length-1);return""+a+(e=1*(e/Math.pow(1024,i)).toFixed(2))+" "+s[i]}}},Y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"p-3"},[s("form",{on:{submit:function(e){t.submit(e)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"file-name"}},[t._v("\n        "+t._s(t.$t("commons.name"))+"\n      ")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{id:"file-name",type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),t.error?s("div",{staticClass:"alert custom-alert-danger"},[t._v("\n      "+t._s(t.$t("errors.validation."+t.error))+"\n    ")]):t._e(),t._v(" "),t.uploading?s("div",{staticClass:"container-progress-bar"},[s("div",{staticClass:"progress"},[s("span",[t._v("\n        "+t._s(t.$t("commons.uploading"))+"\n      ")]),t._v(" "),s("div",{staticClass:"progress-bar bg-info",style:{width:t.uploading+"%"},attrs:{role:"progressbar"}})])]):s("div",{staticClass:"document mb-3"},[s("img",{attrs:{src:n("MlP6"),alt:""}}),t._v(" "),s("div",{staticStyle:{display:"inline-block"}},[s("div",[t._v(t._s(t.name)+"."+t._s(t.extension))]),t._v(" "),s("div",[s("small",[t._v(t._s(t._f("bytes")(t.size)))])])])]),t._v(" "),s("div",{staticClass:"form-group"},[t.uploading?s("button",{staticClass:"btn btn-info",attrs:{disabled:"disabled"}},[t._v("\n        "+t._s(t.$t("commons.uploading"))+"\n      ")]):s("button",{staticClass:"btn btn-info"},[t._v("\n        "+t._s(t.$t("commons.upload"))+"\n      ")]),t._v(" "),s("button",{staticClass:"btn btn-link",on:{click:t.cancel}},[t._v("\n        "+t._s(t.$t("commons.cancel"))+"\n      ")])])])])},staticRenderFns:[]};var H=n("VU/8")(L,Y,!1,function(t){n("hcQe")},"data-v-427152c0",null).exports,J={props:["initial"],data:function(){var t=null,e="suggest";return this.initial&&(e="",t={id:this.initial.id,attributes:{name:this.initial.name,mimetype:this.initial.mime}}),{action:e,query:"",focused:!1,file:null,selected:t}},computed:{open:function(){var t=!1;switch(this.action){case"suggest":t=this.focused;break;case"create":t=!0;break;default:t=!1}return t}},methods:{focus:function(){this.focused=!0},blur:function(){var t=this;setTimeout(function(){t.focused=!1},200)},uploadFile:function(t){var e=t.target.files[0];this.action="create",this.file=e},selectFile:function(t){this.action="",this.selected=t;var e={id:t.id,name:t.attributes.name,mime:t.attributes.mimetype,type:"doqer:file"};this.$emit("change",e)},clearFile:function(){this.action="suggest",this.query="",this.file=null,this.selected=null,this.$emit("change",null)}}},X={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"doqer-file --bellow",class:{open:t.open}},[null!==t.selected?n("div",[n("div",{staticClass:"file-selected"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("icon",{attrs:{icon:["fas","file"]}}),t._v("\n          "+t._s(t.selected.attributes.name)+"\n        ")],1),t._v(" "),n("div",{staticClass:"col text-right pt-1",staticStyle:{"font-size":"0.8em"}},[n("icon",{staticClass:"clear-file",staticStyle:{cursor:"pointer"},attrs:{icon:["fas","times"]},on:{click:t.clearFile}})],1)])])]):t._e(),t._v(" "),null===t.selected?n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"query-input form-control",attrs:{type:"text"},domProps:{value:t.query},on:{focus:t.focus,blur:t.blur,input:function(e){e.target.composing||(t.query=e.target.value)}}})]):t._e(),t._v(" "),n("div",{staticClass:"helper-window"},["suggest"===t.action?n("div",[n("doqer-suggest",{attrs:{query:t.query}}),t._v(" "),n("div",{staticClass:"create-file p-2"},[n("div",{staticClass:"custom-file"},[n("input",{staticClass:"custom-file-input",attrs:{type:"file",id:"validatedCustomFile"},on:{change:function(e){t.uploadFile(e)}}}),t._v(" "),n("label",{staticClass:"custom-file-label",attrs:{for:"validatedCustomFile"}},[t._v("\n            "+t._s(t.$t("doquer.new_file"))+"\n          ")])])])],1):t._e(),t._v(" "),"create"===t.action?n("div",[n("doqer-create",{attrs:{file:t.file},on:{uploaded:t.selectFile,cancel:function(e){t.action="suggest"}}})],1):t._e()])])},staticRenderFns:[]};var W=n("VU/8")(J,X,!1,function(t){n("9jMz")},"data-v-634923ec",null).exports,Z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"suggestions"},t._l(t.suggestions,function(e){return n("li",{key:e.value},[t._v("\n    "+t._s(e.label)+"\n  ")])}))},staticRenderFns:[]};var Q=n("VU/8")({props:["query"],data:function(){return{suggestions:[]}},watch:{query:function(){this.suggestFiles()}},methods:{suggestFiles:function(){this.suggestions=[]}}},Z,!1,function(t){n("N6ST")},"data-v-395ea87d",null).exports,K={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.schema.inputs,function(e){return n("div",{key:e.name,staticClass:"form-group",class:{"has-error":t.errors&&t.errors[e.name]}},[n("label",{attrs:{for:e.name}},[t._v("\n      "+t._s(e.label)+"\n      "),e.required?n("small",{staticClass:"text-info"},[t._v("\n        "+t._s(t.$t("commons.required"))+"\n      ")]):t._e()]),t._v(" "),"date"===e.type?n("div",[n("date-input",{attrs:{"bootstrap-styling":!0},model:{value:t.data[e.name],callback:function(n){t.$set(t.data,e.name,n)},expression:"data[input.name]"}})],1):"datetime"===e.type?n("div",[n("datetime-input",{attrs:{value:t.data[e.name]},on:{change:function(n){return t.data[e.name]=n}}})],1):"select"===e.type?n("div",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.data[e.name],expression:"data[input.name]"}],staticClass:"custom-select",attrs:{id:e.name,placeholder:e.placeholder},on:{change:function(n){var s=Array.prototype.filter.call(n.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.data,e.name,n.target.multiple?s:s[0])}}},t._l(e.options,function(e){return n("option",{key:e.value,domProps:{value:e.value}},[t._v("\n          "+t._s(e.label)+"\n        ")])}))]):"checkbox"===e.type||"radio"===e.type?n("div",t._l(e.options,function(s){return n("div",{key:s.value,staticClass:"custom-control",class:"custom-"+e.type},["checkbox"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.data[e.name],expression:"data[input.name]"}],staticClass:"custom-control-input",attrs:{id:e.name+"-"+s.value,type:"checkbox"},domProps:{value:s.value,checked:Array.isArray(t.data[e.name])?t._i(t.data[e.name],s.value)>-1:t.data[e.name]},on:{change:function(n){var a=t.data[e.name],i=n.target,r=!!i.checked;if(Array.isArray(a)){var o=s.value,l=t._i(a,o);i.checked?l<0&&t.$set(t.data,e.name,a.concat([o])):l>-1&&t.$set(t.data,e.name,a.slice(0,l).concat(a.slice(l+1)))}else t.$set(t.data,e.name,r)}}}):"radio"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.data[e.name],expression:"data[input.name]"}],staticClass:"custom-control-input",attrs:{id:e.name+"-"+s.value,type:"radio"},domProps:{value:s.value,checked:t._q(t.data[e.name],s.value)},on:{change:function(n){t.$set(t.data,e.name,s.value)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.data[e.name],expression:"data[input.name]"}],staticClass:"custom-control-input",attrs:{id:e.name+"-"+s.value,type:e.type},domProps:{value:s.value,value:t.data[e.name]},on:{input:function(n){n.target.composing||t.$set(t.data,e.name,n.target.value)}}}),t._v(" "),n("label",{staticClass:"custom-control-label",attrs:{for:e.name+"-"+s.value}},[t._v("\n          "+t._s(s.label)+"\n        ")])])})):"file"===e.type&&"doqer"==e.provider?n("div",[n("doqer-input",{attrs:{initial:t.data[e.name]},on:{change:function(n){return t.data[e.name]=n}}})],1):n("div",["checkbox"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.data[e.name],expression:"data[input.name]"}],staticClass:"form-control",attrs:{id:e.name,name:e.name,placeholder:e.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(t.data[e.name])?t._i(t.data[e.name],null)>-1:t.data[e.name]},on:{change:function(n){var s=t.data[e.name],a=n.target,i=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.data,e.name,s.concat([null])):r>-1&&t.$set(t.data,e.name,s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.data,e.name,i)}}}):"radio"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.data[e.name],expression:"data[input.name]"}],staticClass:"form-control",attrs:{id:e.name,name:e.name,placeholder:e.placeholder,type:"radio"},domProps:{checked:t._q(t.data[e.name],null)},on:{change:function(n){t.$set(t.data,e.name,null)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.data[e.name],expression:"data[input.name]"}],staticClass:"form-control",attrs:{id:e.name,name:e.name,placeholder:e.placeholder,type:e.type},domProps:{value:t.data[e.name]},on:{input:function(n){n.target.composing||t.$set(t.data,e.name,n.target.value)}}})]),t._v(" "),e.helper?n("small",{staticClass:"form-text text-muted"},[t._v("\n      "+t._s(e.helper)+"\n    ")]):t._e(),t._v(" "),t.errors&&t.errors[e.name]?n("div",t._l(t.errors[e.name],function(e,s){return n("small",{key:s,staticClass:"form-text text-danger"},[t._v("\n        "+t._s(t.$t(e.code)||e.detail)+"\n      ")])})):t._e()])}))},staticRenderFns:[]},tt=n("VU/8")({props:["schema","data","errors"]},K,!1,null,null,null).exports,et=n("woOf"),nt=n.n(et),st=n("fZjL"),at=n.n(st),it={props:["forms","prevWork","errors","sending"],data:function(){return{instances:{}}},mounted:function(){this.instances=this.defaultFormsValue(this.forms)},watch:{forms:function(){this.instances=this.defaultFormsValue(this.forms)}},computed:{isValid:function(){for(var t=0;t<this.forms.length;t+=1){var e=this.forms[t],n=e.ref,s=e.inputs;if(void 0!==this.instances[n])for(var a=this.instances[n],i=0;i<a.length;i+=1)for(var r=0;r<s.length;r+=1){var o=s[r],l=a[i][o.name];if(o.required&&!l)return!1;if(o.regex)if(!new RegExp(o.regex).test(l))return!1}}return!0}},methods:{defaultInputValue:function(t){var e=void 0;switch(t.type){case"checkbox":e=[],void 0!==t.default&&e.push(t.default);break;case"doqer:file":e=null;break;default:e="",void 0!==t.default&&(e=t.default)}return e},defaultFormValue:function(t){var e=this,n={};return t.inputs.forEach(function(t){n[t.name]=e.defaultInputValue(t)}),n},defaultFormsValue:function(t){var e=this,n={};return void 0!==this.prevWork?n=this.prevWork.reduce(function(t,n){var s=t,a=n.inputs,i=a.item_order.reduce(function(t,n){var s=t,i=a.items[n];return s[n]=i.value,null===s[n]&&(s[n]=e.defaultInputValue(i)),s},{});return void 0===s[n.ref]&&(s[n.ref]=[]),s[n.ref].push(i),s},{}):t.forEach(function(t){n[t.ref]=[e.defaultFormValue(t)]}),n},appendForm:function(t){var e=this.defaultFormValue(t);void 0!==this.instances[t.ref]&&this.instances[t.ref].push(e)},submit:function(t){var e=this;t.preventDefault();var n=[];at()(this.instances).forEach(function(t){e.instances[t].forEach(function(e){var s=nt()({},e),a={ref:t,data:s};n.push(a)})}),this.$emit("submit",n)}}},rt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){t.submit(e)}}},[t._l(t.forms,function(e,s){return n("div",{key:e.ref},[t._l(t.instances[e.ref],function(a,i){return n("form-instance",{key:i,class:{multiple:e.multiple},attrs:{errors:t.errors[s],schema:e,data:a}})}),t._v(" "),e.multiple?n("div",{staticClass:"duplicator",on:{click:function(n){t.appendForm(e)}}},[n("icon",{attrs:{icon:["far","copy"]}}),t._v(" Agregar\n    ")],1):t._e()],2)}),t._v(" "),n("div",[t.sending?n("button",{staticClass:"btn btn-primary",attrs:{disabled:!0}},[t._v("\n      "+t._s(t.$t("commons.sending"))+"\n    ")]):n("button",{staticClass:"btn btn-primary",attrs:{disabled:!t.isValid}},[t._v("\n      "+t._s(t.$t("commons.send"))+"\n    ")]),t._v(" "),n("router-link",{attrs:{to:{name:"processes"}}},[t._v("\n      "+t._s(t.$t("commons.cancel"))+"\n    ")])],1)],2)},staticRenderFns:[]};var ot=n("VU/8")(it,rt,!1,function(t){n("put9")},null,null).exports,lt={data:function(){var t=Object(c.b)();return{firstname:t.fullname.split(/\s+/)[0],fullname:t.fullname,menuVisible:!1}},methods:{toggleMenu:function(){this.menuVisible=!this.menuVisible},closeMenu:function(){var t=this;setTimeout(function(){t.menuVisible=!1},200)},signOut:function(){Object(c.d)()}},name:"Header"},ct={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pvm-navbar mb-4"},[n("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-white d-none d-lg-block"},[n("div",{staticClass:"container"},[n("ul",{staticClass:"navbar-nav"},[n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:{path:"/task"}}},[t._v("\n            "+t._s(t.$t("header.tasks"))+"\n          ")])],1),t._v(" "),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:{path:"/"}}},[t._v("\n            "+t._s(t.$t("header.processes"))+"\n          ")])],1),t._v(" "),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:{path:"/tracking"}}},[t._v("\n            "+t._s(t.$t("header.trackings"))+"\n          ")])],1)]),t._v(" "),n("ul",{staticClass:"navbar-nav"},[n("li",{staticClass:"nav-item dropdown"},[n("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"javascript:void(0);"},on:{click:t.toggleMenu,blur:t.closeMenu}},[t._v("\n            "+t._s(this.firstname)+"\n          ")]),t._v(" "),n("div",{staticClass:"dropdown-menu dropdown-menu-right",class:{show:t.menuVisible}},[n("h6",{staticClass:"dropdown-header"},[t._v(t._s(this.fullname))]),t._v(" "),n("div",{staticClass:"dropdown-divider"}),t._v(" "),n("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0);"},on:{click:t.signOut}},[t._v("\n              "+t._s(t.$t("header.signout"))+"\n            ")])])])])])]),t._v(" "),n("div",{staticClass:"mobile-header row d-lg-none"},[n("div",{staticClass:"col"},[n("router-link",{attrs:{to:{path:"/task"}}},[t._v("\n          "+t._s(t.$t("header.tasks"))+"\n      ")])],1),t._v(" "),n("div",{staticClass:"col"},[n("router-link",{attrs:{to:{path:"/"}}},[t._v("\n          "+t._s(t.$t("header.processes"))+"\n      ")])],1),t._v(" "),n("div",{staticClass:"col"},[n("router-link",{attrs:{to:{path:"/tracking"}}},[t._v("\n          "+t._s(t.$t("header.trackings"))+"\n      ")])],1),t._v(" "),n("div",{staticClass:"col"},[n("a",{attrs:{href:"javascript:void(0);"},on:{click:t.signOut}},[t._v("\n          "+t._s(t.$t("header.signout"))+"\n      ")])])]),t._v(" "),n("nav",{staticClass:"py-2"},[n("center",[n("b",[t._v(t._s(t.$t("header.title")))])])],1)])},staticRenderFns:[]};var dt=n("VU/8")(lt,ct,!1,function(t){n("OhhZ")},"data-v-59d088dd",null).exports,ut={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.nodeCount>1?n("div",{staticClass:"container-linear d-none d-md-block"},[n("div",{staticClass:"row line"},t._l(t.nodes,function(e){return"ongoing"===e.state||e.milestone?n("div",{key:e.id,staticClass:"col",class:{"no-active":"ongoing"===e.state||"unfilled"===e.state}},[n("div",{staticClass:"container-step",attrs:{title:e.name}},["ongoing"===e.state?n("div",{staticClass:"actual-active"},[n("div",{staticClass:"center-point"})]):"valid"===e.state?n("div",{staticClass:"active"},[n("icon",{attrs:{icon:["fas","check"]}})],1):n("div",{staticClass:"no-active"}),t._v(" "),t._e()])]):t._e()}))]):t._e()},staticRenderFns:[]};var vt=n("VU/8")({props:["nodes"],computed:{nodeCount:function(){return this.nodes.filter(function(t){return"ongoing"===t.state||t.milestone}).length}}},ut,!1,function(t){n("OpJO")},"data-v-76e46d29",null).exports,mt={props:["taskId"],data:function(){return{errors:{global:[]},loading:!0,sending:!1,task:null,actions:[]}},mounted:function(){this.loadData(this.taskId)},watch:{taskId:function(t){this.loadData(t),this.errors={global:[]}}},methods:{loadData:function(t){var e=this;Object(v.a)("/task/"+t).then(function(t){return e.task=t.data,Object(v.a)("/log/"+e.task.execution.id)}).then(function(t){e.loading=!1,e.actions=t.data}).catch(function(){e.loading=!1})},validate:function(t){var e=this,n=nt()({execution_id:this.task.execution.id,node_id:this.task.node_id},t);this.sending=!0,Object(v.b)("/pointer",n,"application/json").then(function(){e.sending=!1,e.$router.push("/tracking/"+e.task.execution.id)}).catch(function(t){e.sending=!1,e.errors=$(t)})},submit:function(t){var e=this,n={execution_id:this.task.execution.id,node_id:this.task.node_id,form_array:t};this.sending=!0,Object(v.b)("/pointer",n,"application/json").then(function(){e.sending=!1,e.$router.push("/tracking/"+e.task.execution.id)}).catch(function(t){e.sending=!1,e.errors=$(t)})}}},pt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loading?n("div",[t.loading?n("hero",{attrs:{icon:"spinner",title:"commons.loading",spin:""}}):t._e()],1):n("div",[n("div",{staticClass:"timeline"},[n("div",{staticClass:"card timeline-action"},[n("div",{staticClass:"card-header"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[t._v("\n            "+t._s(t.task.name)+"\n            "),n("div",{staticClass:"float-right"},[n("router-link",{attrs:{to:{path:"/tracking"}}},[n("icon",{attrs:{icon:["fas","times"]}})],1)],1)])])]),t._v(" "),n("div",{staticClass:"card-body"},[t._l(t.errors.global,function(e,s){return n("div",{key:s,staticClass:"alert custom-alert-danger"},[t._v("\n          "+t._s(e.code||e.detail)+"\n        ")])}),t._v(" "),n("p",[t._v(t._s(t.task.description))]),t._v(" "),"action"===t.task.node_type?n("form-render",{attrs:{forms:t.task.form_array,prevWork:t.task.prev_work,errors:t.errors,sending:t.sending},on:{submit:t.submit}}):t._e(),t._v(" "),"validation"===t.task.node_type?n("data-validator",{attrs:{fields:t.task.fields,errors:t.errors,sending:t.sending},on:{submit:t.validate}}):t._e()],2)])]),t._v(" "),t.actions.length>0?n("timeline",{attrs:{actions:t.actions}}):t._e()],1)},staticRenderFns:[]},ft=n("VU/8")(mt,pt,!1,null,null,null).exports,ht={props:["value"],data:function(){return{hourOptions:[],minuteOptions:[]}},mounted:function(){for(var t=0;t<24;t+=1)this.hourOptions.push({label:("0"+t).slice(-2),value:t});for(var e=0;e<60;e+=1)this.minuteOptions.push({label:("0"+e).slice(-2),value:e})},computed:{hours:{get:function(){var t=this.value;return t?t.getHours():null},set:function(t){var e=new Date(this.value);e.setHours(t),this.$emit("change",e)}},minutes:{get:function(){var t=this.value;return t?t.getMinutes():null},set:function(t){var e=new Date(this.value);e.setMinutes(t),this.$emit("change",e)}}}},gt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.hours,expression:"hours"}],staticClass:"custom-select",attrs:{placeholder:"Horas"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.hours=e.target.multiple?n:n[0]}}},t._l(t.hourOptions,function(e){return n("option",{key:e.value,domProps:{value:e.value}},[t._v("\n        "+t._s(e.label)+"\n      ")])}))]),t._v(" "),n("div",{staticClass:"col"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.minutes,expression:"minutes"}],staticClass:"custom-select",attrs:{placeholder:"Minutos"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.minutes=e.target.multiple?n:n[0]}}},t._l(t.minuteOptions,function(e){return n("option",{key:e.value,domProps:{value:e.value}},[t._v("\n        "+t._s(e.label)+"\n      ")])}))])])},staticRenderFns:[]},_t=n("VU/8")(ht,gt,!1,null,null,null).exports,bt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"timeline"},t._l(t.actions,function(e){return n("div",{key:e.id},[null===e.finished_at?n("timeline-pending",{attrs:{node:e}}):"validation"===e.node.type?n("timeline-validation",{attrs:{validation:e}}):"action"===e.node.type?n("timeline-action",{attrs:{action:e}}):t._e()],1)}))},staticRenderFns:[]},kt=n("VU/8")({props:["actions"],computed:{last:function(){return 0===this.actions.length?null:this.actions[0]}}},bt,!1,null,null,null).exports,Ct={props:["id"],data:function(){return{loading:!0,actions:[],nodes:[],sleep:0,timeoutId:0}},mounted:function(){this.reloadJob()},watch:{id:function(t){this.sleep=0,this.reloadJob(),this.loadData(t)}},computed:{last:function(){return 0===this.actions.length?null:this.actions[0]}},methods:{reloadJob:function(){this&&this.loadData&&this.id&&(clearTimeout(this.timeoutId),this.loadData(this.id),this.sleep=this.sleep+1e3,this.timeoutId=setTimeout(this.reloadJob,this.sleep))},loadData:function(t){var e=this;Object(v.a)("/execution/"+t).then(function(t){var n=t.data.state,s=n.item_order.map(function(t){return n.items[t]});e.nodes=s}),Object(v.a)("/log/"+t).then(function(t){e.loading=!1,e.actions=t.data}).catch(function(){e.loading=!1})}}},yt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"head-container"},[null!==t.last?n("div",{staticClass:"text-primary"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-11"},[n("b",[t._v(t._s(t.last.execution.name))])]),t._v(" "),n("div",{staticClass:"col-1 text-right"},[n("router-link",{attrs:{to:{path:"/tracking"}}},[n("icon",{attrs:{icon:["fas","times"]}})],1)],1)])]):t._e(),t._v(" "),n("linear-steps",{attrs:{nodes:t.nodes}})],1),t._v(" "),t.loading?n("div",[t.loading?n("hero",{attrs:{icon:"spinner",title:"commons.loading",spin:""}}):t._e()],1):n("timeline",{attrs:{actions:t.actions}})],1)},staticRenderFns:[]};var jt=n("VU/8")(Ct,yt,!1,function(t){n("2irv")},"data-v-30390ab6",null).exports,wt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return"file"===t.input.type?n("div",[t.input.value?n("a",{attrs:{target:"_blank",href:t._f("toURI")(t.input)}},[n("icon",{attrs:{icon:["fa","file"]}}),t._v("\n    "+t._s(t.input.value.name)+"\n  ")],1):t._e()]):n("div",[t._v(t._s(t.input.value_caption))])},staticRenderFns:[]},xt=n("VU/8")({props:["input"],filters:{toURI:function(t){return"http://localhost:6000/api/documents/"+t.value.id}}},wt,!1,null,null,null).exports,Ft={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hero"},[n("div",{staticClass:"icon"},[n("icon",{attrs:{icon:["fas",""+t.icon],spin:t.spin}})],1),t._v(" "),n("span",[t._v("\n    "+t._s(t.$t(t.title))+"\n  ")]),t._v(" "),n("small",[t._v("\n    "+t._s(t.$t(t.desc))+"\n  ")])])},staticRenderFns:[]},At=n("VU/8")({props:["icon","title","desc","spin"]},Ft,!1,null,null,null).exports;s.a.component("app-header",dt),s.a.component("activity",N),s.a.component("tasks",C),s.a.component("task",ft),s.a.component("timeline",kt),s.a.component("form-render",ot),s.a.component("tracking",jt),s.a.component("linear-steps",vt),s.a.component("value-render",xt),s.a.component("hero",At),s.a.component("form-instance",tt),s.a.component("time-input",_t),s.a.component("date-input",F.a),s.a.component("datetime-input",G),s.a.component("doqer-input",W),s.a.component("doqer-create",H),s.a.component("doqer-suggest",Q),s.a.component("data-validator",M),s.a.use(l.a);var Et=new l.a({routes:[{path:"/",beforeEnter:c.f,component:u,children:[{name:"trackings",path:"tracking",component:f},{name:"tracking",path:"tracking/:id",component:f},{name:"tasks",path:"task",component:C},{name:"task",path:"task/:id",component:C},{name:"processes",path:"",component:_},{name:"process",path:"process/:id",component:_}]},{path:"/signin",beforeEnter:c.e,component:w}]}),It=n("QxPg"),qt=n("U0v6"),Pt=n.n(qt),Vt=n("1P+R"),Ot=n("KREn");It.default.library.add(Vt.a),It.default.library.add(Ot.a),s.a.component("icon",Pt.a);var Rt=n("TXmL");s.a.use(Rt.a);var Ut=new Rt.a({locale:"es",messages:{es:{header:{title:"Flujos de autorizaciÃ³n",trackings:"Seguimiento",documents:"Documentos",processes:"Procesos",tasks:"Tareas",signout:"Salir"},info:{aboutTasks:"AquÃ­ aparecerÃ¡n tus tareas asignadas",aboutTasksMore:"Actualmente no tienes ninguna tarea asignada.",aboutTrackings:"AquÃ­ aparecerÃ¡n los procesos en los que estÃ©s involucrado",aboutTrackingsMore:"Actualmente no estÃ¡s involucrado en alguno."},request:{authorization:"Ssadf"},signin:{title:"Ingresar",description:"Inicia sesiÃ³n para comenzar",username_placeholder:"Usuario",password_placeholder:"ContraseÃ±a",button:"Ingresar",error_signin:"El usuario o contraseÃ±a son incorrectos.",advanced_options:"Opciones avanzadas"},processes:{start_process:"Iniciar proceso",process:"Proceso",processes:"Procesos"},trackings:{trackings:"Seguimiento"},timeline:{by:"Por:",reason:"Motivo:",date:"Fecha:",asignTasks:"Esta tarea tambiÃ©n puede ser realizada por"},tasks:{my_tasks:"Mis tareas"},doquer:{new_file:"Nuevo documento"},commons:{required:"Requerido",send:"Enviar",cancel:"Cancelar",loading:"Cargando...",sending:"Enviando...",upload:"Subir",uploading:"Subiendo...",name:"Nombre",approve:"Aprobar",reject:"Rechazar"},validation:{required:"Este campo es requerido",invalid_date:"Fecha invÃ¡lida",required_list:"Este campo es requerido",uploading_document:"OcurriÃ³ un error al cargar el archivo.",invalid_file:"El archivo es invÃ¡lido."},errors:{request:{authorization:"Lo sentimos, tus credenciales son invÃ¡lidas."}}},en:{header:{title:"Authorization flows",trackings:"Tracking",documents:"Documents",processes:"Processes",tasks:"Tasks",logout:"SignOut"},info:{aboutTasks:"Your assigned tasks will be appear here.",aboutTasksMore:"You do not have assigned tasks yet.",aboutTrackings:"AquÃ­ aparecerÃ¡n tus tareas asignadas",aboutTrackingsMore:"Actualmente no tienes ninguna tarea asignada."},signin:{title:"SignIn",description:"Sign in to start your session",username_placeholder:"Username",password_placeholder:"Password",button:"Sign In",error_signin:"We are sorry but it seems the username or password is wrong."},processes:{start_process:"Start process",process:"Process",processes:"Processes"},trackings:{trackings:"Seguimiento"},timeline:{by:"By:",reason:"Motivo:",date:"Fecha:"},tasks:{my_tasks:"My tasks"},doquer:{new_file:"Nuevo documento"},commons:{required:"Required",send:"Send",cancel:"Cancel",loading:"Loading...",sending:"Sending...",upload:"Upload",uploading:"Uploading...",name:"Nombre",approve:"Approve",reject:"Reject"}}}});s.a.config.productionTip=!1,i.a.locale("es"),new s.a({el:"#app",router:Et,i18n:Ut,components:{App:o},template:"<App/>"})},OhhZ:function(t,e){},OpJO:function(t,e){},ROP2:function(t,e){},TIfe:function(t,e,n){"use strict";e.a=m,e.b=function(){var t=localStorage.getItem(c),e=void 0;e=t?JSON.parse(t):null;return e},e.c=function(t,e,n,s){var i="http://localhost:5000/v1/auth/signin/"+n,r=new FormData;r.append("username",t),r.append("password",e);var d={method:"POST",body:r};window.fetch(i,d).then(function(t){if(200!==t.status){var e=new Error(t.statusText);throw e.response=t,e}return o.a.resolve(t)}).then(function(t){return t.json()}).then(function(t){var e,n,i,r=t.data;e=r,n=a()(e),localStorage.setItem(c,n),i=r.username+":"+r.token,localStorage.setItem(l,i),"function"==typeof s&&s(null,r)}).catch(function(t){"function"==typeof s&&s(t)})},e.d=function(){localStorage.removeItem(l),localStorage.removeItem(c),v.go(d)},e.f=function(t,e,n){p()?n():n({path:d,query:{redirect:t.fullPath}})},e.e=function(t,e,n){p()?n({path:u}):n()};var s=n("mvHQ"),a=n.n(s),i=n("/ocq"),r=n("Gs/g"),o=n.n(r),l="auth_token",c="auth_user",d="/signin",u="/",v=new i.a;function m(){return localStorage.getItem(l)}function p(){return!!m()}},VsUZ:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return d}),n.d(e,"b",function(){return u});var s=n("mvHQ"),a=n.n(s),i=n("Gs/g"),r=n.n(i),o=n("EPq9"),l=n("TIfe");function c(e,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/x-www-form-urlencoded",c={"Content-Type":"application/json"},d={method:e},u=Object(l.a)();u&&(u="undefined"!=typeof window?btoa(u):new t(u).toString("base64"),c.Authorization="Basic "+u);var v=void 0;if(v="/"!==n.charAt(0)?"http://localhost:5000/v1/"+n:"http://localhost:5000/v1"+n,"GET"===e){var m=Object(o.a)(s);m.length&&(v=v+"?"+m)}else switch(c["Content-Type"]=i,i){case"application/x-www-form-urlencoded":c.charset="UTF-8",d.body=Object(o.a)(s);break;case"application/json":c.charset="UTF-8",d.body=a()(s);break;default:throw new Error("HTTP body encoding type "+i+" not supported")}return d.headers=c,new r.a(function(t,e){fetch(v,d).then(function(t){return 401===t.status?(Object(l.d)(),r.a.resolve({})):204===t.status?r.a.resolve({}):t.json()}).then(function(e){if(e.errors)throw e.errors;t(e)}).catch(function(t){return e(t)})})}var d=c.bind(this,"GET"),u=(c.bind(this,"PUT"),c.bind(this,"POST"))}).call(e,n("EuP9").Buffer)},cHaq:function(t,e){},hcQe:function(t,e){},put9:function(t,e){},uslO:function(t,e,n){var s={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function a(t){return n(i(t))}function i(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}a.keys=function(){return Object.keys(s)},a.resolve=i,t.exports=a,a.id="uslO"}},["NHnr"]);
//# sourceMappingURL=app.200cd222d874e4bf4121.js.map